\hypertarget{namespaceuser__input__mod}{}\doxysection{user\+\_\+input\+\_\+mod Namespace Reference}
\label{namespaceuser__input__mod}\index{user\_input\_mod@{user\_input\_mod}}


Package containing the functions needed to set up the user input parameters and execute the solver.  


\doxysubsection*{Functions}
\begin{DoxyCompactItemize}
\item 
def \mbox{\hyperlink{namespaceuser__input__mod_a434fe8a925dc89017691a670218d15a2}{iapp\+\_\+read\+\_\+csv}} (filename)
\begin{DoxyCompactList}\small\item\em CURRENT DENSITY SET UP \#\#\#. \end{DoxyCompactList}\item 
def \mbox{\hyperlink{namespaceuser__input__mod_a89795c37e5945e82359b0f75b0613447}{iapp\+\_\+constant\+\_\+setup}} (tsteps, iapp)
\begin{DoxyCompactList}\small\item\em Sets up the applied current density \textquotesingle{}iapp\textquotesingle{} as a constant valued array of length tsteps. \end{DoxyCompactList}\item 
def \mbox{\hyperlink{namespaceuser__input__mod_a699811de5e346fa321006c89a9ba2860}{iapp\+\_\+step\+\_\+setup}} (tsteps, iapp\+\_\+steps)
\begin{DoxyCompactList}\small\item\em Sets up the applied current density \textquotesingle{}iapp\textquotesingle{} as a stepped array of length tsteps. \end{DoxyCompactList}\item 
def \mbox{\hyperlink{namespaceuser__input__mod_aebe5c185d4c5b424c433665db6de9bfd}{set\+\_\+defaults\+\_\+pos}} ()
\begin{DoxyCompactList}\small\item\em DEFAULT PARAMETERS \#\#\#. \end{DoxyCompactList}\item 
def \mbox{\hyperlink{namespaceuser__input__mod_aaaea3c731451ce7bdf4ed0b81a55f182}{set\+\_\+defaults\+\_\+neg}} ()
\begin{DoxyCompactList}\small\item\em Returns default parameters for a negative electrode. \end{DoxyCompactList}\item 
def \mbox{\hyperlink{namespaceuser__input__mod_aa59f87c9644060e0f4593ba2cc2e31ec}{verify\+\_\+params}} (filename, tsteps, dt, n, c0, D, R, a, L, electrode\+\_\+charge)
\begin{DoxyCompactList}\small\item\em PARAMETER VERIFICATION \#\#\#. \end{DoxyCompactList}\item 
def \mbox{\hyperlink{namespaceuser__input__mod_a0e26d9f41295714f3c40286041e2a3d3}{verify\+\_\+iapp}} (iapp, iapp\+\_\+label, tsteps)
\begin{DoxyCompactList}\small\item\em Verifies the types and values of the applied current density array and its label. \end{DoxyCompactList}\item 
def \mbox{\hyperlink{namespaceuser__input__mod_a3928eb204355d42eaf2cb7132c98be24}{write\+\_\+to\+\_\+file}} (filename, tsteps, dt, n, c0, D, R, a, L, iapp, iapp\+\_\+label, electrode\+\_\+charge)
\begin{DoxyCompactList}\small\item\em WRITE TO FILE \#\#\#. \end{DoxyCompactList}\item 
def \mbox{\hyperlink{namespaceuser__input__mod_a46d17f84312397e3da528ac3d00e44e9}{call\+\_\+solver}} (filename, checkpoint, nprocs=1)
\begin{DoxyCompactList}\small\item\em CALL SOLVER \#\#\#. \end{DoxyCompactList}\item 
def \mbox{\hyperlink{namespaceuser__input__mod_ae9d232368693d625e32f1c675c268dd0}{get\+\_\+\+GITT\+\_\+initial\+\_\+concs}} (currents, run\+\_\+times, c0, R, a, L, electrode\+\_\+charge)
\item 
def \mbox{\hyperlink{namespaceuser__input__mod_a92224f7d0e5f7cc03a99f9a9475c783c}{GITT\+\_\+half\+\_\+cell}} (filename, nprocs, currents, start\+\_\+times, run\+\_\+times, wait\+\_\+times, n, params)
\begin{DoxyCompactList}\small\item\em INITIALISE A FULL GITT TEST IN PARALLEL \#\#\#\#. \end{DoxyCompactList}\item 
def \mbox{\hyperlink{namespaceuser__input__mod_a82b9095d68d7e51f9cb3913e72ccfd99}{GITT\+\_\+full\+\_\+cell}} (filename\+\_\+positive, filename\+\_\+negative, nprocs, currents, start\+\_\+times, run\+\_\+times, wait\+\_\+times, n, params\+\_\+pos, params\+\_\+neg)
\begin{DoxyCompactList}\small\item\em Executes the SPM solver in parallel to run a GITT full cell test over nprocs cores. \end{DoxyCompactList}\item 
def \mbox{\hyperlink{namespaceuser__input__mod_aebc92a3cf81e1cecda5c649c21285b14}{full\+\_\+battery\+\_\+simulation}} (filename\+\_\+positive, filename\+\_\+negative, nprocs=1)
\begin{DoxyCompactList}\small\item\em Executes the SPM solver. \end{DoxyCompactList}\item 
def \mbox{\hyperlink{namespaceuser__input__mod_a1a845b3fd7bdb5dc8571dc6bfe14bed8}{optimise\+\_\+parallelism}} (n\+\_\+procs, n\+\_\+gitt\+\_\+steps=1, full\+\_\+battery=False)
\begin{DoxyCompactList}\small\item\em Decides the correct number of threads to use for a given simulation. \end{DoxyCompactList}\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}
Package containing the functions needed to set up the user input parameters and execute the solver. 

Provides options for automatically generating applied current density \textquotesingle{}iapp\textquotesingle{}, as a constant or step function, and for reading iapp from a csv file.

Provides the option to set the parameters to default values obtained from \cite{Chen2020}.

Contains additional functions for validating the types and values of the input parameters, writing the user input txt file, and executing the solver. 

\doxysubsection{Function Documentation}
\mbox{\Hypertarget{namespaceuser__input__mod_a46d17f84312397e3da528ac3d00e44e9}\label{namespaceuser__input__mod_a46d17f84312397e3da528ac3d00e44e9}} 
\index{user\_input\_mod@{user\_input\_mod}!call\_solver@{call\_solver}}
\index{call\_solver@{call\_solver}!user\_input\_mod@{user\_input\_mod}}
\doxysubsubsection{\texorpdfstring{call\_solver()}{call\_solver()}}
{\footnotesize\ttfamily def user\+\_\+input\+\_\+mod.\+call\+\_\+solver (\begin{DoxyParamCaption}\item[{}]{filename,  }\item[{}]{checkpoint,  }\item[{}]{nprocs = {\ttfamily 1} }\end{DoxyParamCaption})}



CALL SOLVER \#\#\#. 

Executes the SPM solver. \begin{DoxyVerb}@details Calls the SPM solver using the subprocess package.
The filename of the user input file is passed to the solver as a command line argument.
Errors from the execution are read in and further execution prevented if necessary.
@param[in] filename: The name of the file containing the desired input, either a checkpoint file or user input file. No file extension is required.
@param[in] checkpoint: Boolean indicating if a checkpoint file is used.

The function works by:
1. Validating whether the input file is a checkpoint file or user input file name.
2. Setting up the solver call line, including the file name.
3. Calling the solver.
\end{DoxyVerb}
 

Definition at line 413 of file user\+\_\+input\+\_\+mod.\+py.

\mbox{\Hypertarget{namespaceuser__input__mod_aebc92a3cf81e1cecda5c649c21285b14}\label{namespaceuser__input__mod_aebc92a3cf81e1cecda5c649c21285b14}} 
\index{user\_input\_mod@{user\_input\_mod}!full\_battery\_simulation@{full\_battery\_simulation}}
\index{full\_battery\_simulation@{full\_battery\_simulation}!user\_input\_mod@{user\_input\_mod}}
\doxysubsubsection{\texorpdfstring{full\_battery\_simulation()}{full\_battery\_simulation()}}
{\footnotesize\ttfamily def user\+\_\+input\+\_\+mod.\+full\+\_\+battery\+\_\+simulation (\begin{DoxyParamCaption}\item[{}]{filename\+\_\+positive,  }\item[{}]{filename\+\_\+negative,  }\item[{}]{nprocs = {\ttfamily 1} }\end{DoxyParamCaption})}



Executes the SPM solver. 

\begin{DoxyVerb}@details Calls the SPM solver using the subprocess package for both the anode and cathode simultaneously
The filenames of the user input files for both the anode and cathode are passed to 
instances of the solver as command line arguments. Note that if 2 processors are supplied,
both the anode and cathode will run simultaneously.
@param[in] filename_positive: The name of the positive output file, this must be a string and have max 50 characters. No file extension is required.
@param[in] filename_negative: The name of the negative output file, this must be a string and have max 50 characters. No file extension is required.

The function works by:
1. Seting up the solver call line, including the file name.
2. Calling the solver.
\end{DoxyVerb}
 

Definition at line 651 of file user\+\_\+input\+\_\+mod.\+py.

\mbox{\Hypertarget{namespaceuser__input__mod_ae9d232368693d625e32f1c675c268dd0}\label{namespaceuser__input__mod_ae9d232368693d625e32f1c675c268dd0}} 
\index{user\_input\_mod@{user\_input\_mod}!get\_GITT\_initial\_concs@{get\_GITT\_initial\_concs}}
\index{get\_GITT\_initial\_concs@{get\_GITT\_initial\_concs}!user\_input\_mod@{user\_input\_mod}}
\doxysubsubsection{\texorpdfstring{get\_GITT\_initial\_concs()}{get\_GITT\_initial\_concs()}}
{\footnotesize\ttfamily def user\+\_\+input\+\_\+mod.\+get\+\_\+\+GITT\+\_\+initial\+\_\+concs (\begin{DoxyParamCaption}\item[{}]{currents,  }\item[{}]{run\+\_\+times,  }\item[{}]{c0,  }\item[{}]{R,  }\item[{}]{a,  }\item[{}]{L,  }\item[{}]{electrode\+\_\+charge }\end{DoxyParamCaption})}

\begin{DoxyVerb}@brief Calculates the initial concentrations for each step in a multi-step parallelised GITT test.

@details Computes initial flat concentrations for the initial step of a parallelised multi-step GITT test. 

The formula used for this calculation is:
C(T=t) = C_0 + \frac{i_app * t}{F*e_act * L}, where C_0 is C(T=0). 

As current is defined as positive for charging, the sign of the current vector must be flipped when considering
the positive electrode (cathode) which will discharge during charging.

@param[in] currents  A vector containing current values to apply at each current step, must be floats and have the same length as
start_times, run_times, wait_times.
@param[in] run_times  A vector containing the run time of each current step, must be floats and have the same length as 
start_times, currents, wait_times.
@param[in] c0  Initial concentration, must be a float greater than or equal to 0.
@param[in] R  Radius of the sphere, must be a float greater than 0.
@param[in] a  Particle surface area per unit volume, must be a float greater than or equal to 0.
@param[in] L  Electrode thickness, must be a float greater than or equal to 0.
@param[in] electrode_charge  Electrode charge, mus be a single character 'p' or 'n'.
\end{DoxyVerb}
 

Definition at line 475 of file user\+\_\+input\+\_\+mod.\+py.

\mbox{\Hypertarget{namespaceuser__input__mod_a82b9095d68d7e51f9cb3913e72ccfd99}\label{namespaceuser__input__mod_a82b9095d68d7e51f9cb3913e72ccfd99}} 
\index{user\_input\_mod@{user\_input\_mod}!GITT\_full\_cell@{GITT\_full\_cell}}
\index{GITT\_full\_cell@{GITT\_full\_cell}!user\_input\_mod@{user\_input\_mod}}
\doxysubsubsection{\texorpdfstring{GITT\_full\_cell()}{GITT\_full\_cell()}}
{\footnotesize\ttfamily def user\+\_\+input\+\_\+mod.\+GITT\+\_\+full\+\_\+cell (\begin{DoxyParamCaption}\item[{}]{filename\+\_\+positive,  }\item[{}]{filename\+\_\+negative,  }\item[{}]{nprocs,  }\item[{}]{currents,  }\item[{}]{start\+\_\+times,  }\item[{}]{run\+\_\+times,  }\item[{}]{wait\+\_\+times,  }\item[{}]{n,  }\item[{}]{params\+\_\+pos,  }\item[{}]{params\+\_\+neg }\end{DoxyParamCaption})}



Executes the SPM solver in parallel to run a GITT full cell test over nprocs cores. 

\begin{DoxyVerb}@details Executes the SPM solver in parallel to run a test experiment on a full cell using a galvanostatic intermittent titration technique (GITT), 
see \cite Weppner1977

Due to the equilibration time between each current step applied, it is possible to pre-compute initial constant concentration for each of the single
particles in the model by considering the amount of lithium removed in each step. 

@param[in] filename_positive  Name of user input file for the cathode, no file extension. Note that a version of this file is created for 
each current step applied in the GITT test.
@param[in] filename_negative  Name of user input file for the anode, no file extension. Note that a version of this file is created for 
each current step applied in the GITT test.
@param[in] nprocs  Number of processors to parallelise current steps over.
Cannot parallelise over more processors than the number of steps applied in the GITT test.
@param[in] currents  A vector containing the values of current to apply at each step, must be floats and have the same length as
start_times, run_times, wait_times.
@param[in] start_times  A vector containing the start times of each current step, must be floats and have the same length as
currents, run_times, wait_times.
@param[in] run_times  A vector containing the run time of each current step, must be floats and have the same length as 
start_times, currents, wait_times.
@param[in] wait_times  A vector containing the wait time of each current step, must be floats and have the same length as 
currents, start_times, run-times.
@param[in], n: The number of nodes to use in the simulation. Must be an integer greater than 100.
@param[in] params: A vector containing the parameters for the simulation: [dt, c0, D, R, a, L]

The function works by:
1. Setting up the solver call line, including the file name.
2. Calling the solver.    
\end{DoxyVerb}
 

Definition at line 576 of file user\+\_\+input\+\_\+mod.\+py.

\mbox{\Hypertarget{namespaceuser__input__mod_a92224f7d0e5f7cc03a99f9a9475c783c}\label{namespaceuser__input__mod_a92224f7d0e5f7cc03a99f9a9475c783c}} 
\index{user\_input\_mod@{user\_input\_mod}!GITT\_half\_cell@{GITT\_half\_cell}}
\index{GITT\_half\_cell@{GITT\_half\_cell}!user\_input\_mod@{user\_input\_mod}}
\doxysubsubsection{\texorpdfstring{GITT\_half\_cell()}{GITT\_half\_cell()}}
{\footnotesize\ttfamily def user\+\_\+input\+\_\+mod.\+GITT\+\_\+half\+\_\+cell (\begin{DoxyParamCaption}\item[{}]{filename,  }\item[{}]{nprocs,  }\item[{}]{currents,  }\item[{}]{start\+\_\+times,  }\item[{}]{run\+\_\+times,  }\item[{}]{wait\+\_\+times,  }\item[{}]{n,  }\item[{}]{params }\end{DoxyParamCaption})}



INITIALISE A FULL GITT TEST IN PARALLEL \#\#\#\#. 

Executes the SPM solver in parallel to run a GITT half cell test over nprocs cores. \begin{DoxyVerb}@details Executes the SPM solver in parallel to run a test experiment on a half cell using a galvanostatic intermittent titration technique (GITT), 
see \cite Weppner1977

Due to the equilibration time between each current step applied, it is possible to pre-compute initial constant concentration for each of the single
particles in the model by considering the amount of lithium removed in each step.

Errors from execution are read in and further execution is prevented if necessary.

@param[in] filename  Name of user input file, no file extension. Note that a version of this file is created for each current step applied in the GITT test. 
@param[in] nprocs  Number of processors to parallelise current steps over.
Cannot parallelise over more processors than the number of steps applied in the GITT test.
@param[in] currents  A vector containing the values of current to apply at each step, must be floats and have the same length as
start_times, run_times, wait_times.
@param[in] start_times  A vector containing the start times of each current step, must be floats and have the same length as
currents, run_times, wait_times.
@param[in] run_times  A vector containing the run time of each current step, must be floats and have the same length as 
start_times, currents, wait_times.
@param[in] wait_times  A vector containing the wait time of each current step, must be floats and have the same length as 
currents, start_times, run-times.
@param[in], n: The number of nodes to use in the simulation. Must be an integer greater than 100.
@param[in] params: A vector containing the parameters for the simulation: [dt, c0, D, R, a, L, electrode_charge]
\end{DoxyVerb}
 

Definition at line 513 of file user\+\_\+input\+\_\+mod.\+py.

\mbox{\Hypertarget{namespaceuser__input__mod_a89795c37e5945e82359b0f75b0613447}\label{namespaceuser__input__mod_a89795c37e5945e82359b0f75b0613447}} 
\index{user\_input\_mod@{user\_input\_mod}!iapp\_constant\_setup@{iapp\_constant\_setup}}
\index{iapp\_constant\_setup@{iapp\_constant\_setup}!user\_input\_mod@{user\_input\_mod}}
\doxysubsubsection{\texorpdfstring{iapp\_constant\_setup()}{iapp\_constant\_setup()}}
{\footnotesize\ttfamily def user\+\_\+input\+\_\+mod.\+iapp\+\_\+constant\+\_\+setup (\begin{DoxyParamCaption}\item[{}]{tsteps,  }\item[{}]{iapp }\end{DoxyParamCaption})}



Sets up the applied current density \textquotesingle{}iapp\textquotesingle{} as a constant valued array of length tsteps. 

\begin{DoxyVerb}@param[in] tsteps Number of timesteps, needs to be the length of the array iapp.
@param[in] iapp Constant value of iapp.
@result iapp_arr: An array containing applied current density.
@result iapp_label: String containing a description of iapp.

Function does the following:
1. Verifies that the current density, iapp, is a float.
2. Sets up an array.
\end{DoxyVerb}
 

Definition at line 52 of file user\+\_\+input\+\_\+mod.\+py.

\mbox{\Hypertarget{namespaceuser__input__mod_a434fe8a925dc89017691a670218d15a2}\label{namespaceuser__input__mod_a434fe8a925dc89017691a670218d15a2}} 
\index{user\_input\_mod@{user\_input\_mod}!iapp\_read\_csv@{iapp\_read\_csv}}
\index{iapp\_read\_csv@{iapp\_read\_csv}!user\_input\_mod@{user\_input\_mod}}
\doxysubsubsection{\texorpdfstring{iapp\_read\_csv()}{iapp\_read\_csv()}}
{\footnotesize\ttfamily def user\+\_\+input\+\_\+mod.\+iapp\+\_\+read\+\_\+csv (\begin{DoxyParamCaption}\item[{}]{filename }\end{DoxyParamCaption})}



CURRENT DENSITY SET UP \#\#\#. 

Reads in the applied current density \textquotesingle{}iapp\textquotesingle{} from a csv file provided by user. \begin{DoxyVerb}@param[in] filename Name of the csv file containing iapp as Time, Current density.
@result iapp_arr: Array containing applied current density.
@result iapp_label: String containing a description of iapp.
@result tsteps: Number of timesteps, found from the length of iapp array.

This function does the following:
1. Reads in the csv file.
2. Parses the file into array of lines.
3. Parses each line at comma.
4. Define tsteps and the iapp_label.
\end{DoxyVerb}
 

Definition at line 16 of file user\+\_\+input\+\_\+mod.\+py.

\mbox{\Hypertarget{namespaceuser__input__mod_a699811de5e346fa321006c89a9ba2860}\label{namespaceuser__input__mod_a699811de5e346fa321006c89a9ba2860}} 
\index{user\_input\_mod@{user\_input\_mod}!iapp\_step\_setup@{iapp\_step\_setup}}
\index{iapp\_step\_setup@{iapp\_step\_setup}!user\_input\_mod@{user\_input\_mod}}
\doxysubsubsection{\texorpdfstring{iapp\_step\_setup()}{iapp\_step\_setup()}}
{\footnotesize\ttfamily def user\+\_\+input\+\_\+mod.\+iapp\+\_\+step\+\_\+setup (\begin{DoxyParamCaption}\item[{}]{tsteps,  }\item[{}]{iapp\+\_\+steps }\end{DoxyParamCaption})}



Sets up the applied current density \textquotesingle{}iapp\textquotesingle{} as a stepped array of length tsteps. 

\begin{DoxyVerb}@param[in] tsteps Number of timesteps, needs to be the length of the array iapp.
@param[in] iapp_steps 2D Array containing heights of the steps and the timesteps at which step occurs, starting at timestep 0. Timesteps must be integers.
@result iapp_arr: An array containing the applied current density.
@result iapp_label: A string describing the type for iapp.

Function does the following:
1. Sets up the label and initialises the array.
2. Verifies that timesteps are integers and current density values are floats.
3. Verifies that the first timestep is 0.
4. Sets up an array.
\end{DoxyVerb}
 

Definition at line 76 of file user\+\_\+input\+\_\+mod.\+py.

\mbox{\Hypertarget{namespaceuser__input__mod_a1a845b3fd7bdb5dc8571dc6bfe14bed8}\label{namespaceuser__input__mod_a1a845b3fd7bdb5dc8571dc6bfe14bed8}} 
\index{user\_input\_mod@{user\_input\_mod}!optimise\_parallelism@{optimise\_parallelism}}
\index{optimise\_parallelism@{optimise\_parallelism}!user\_input\_mod@{user\_input\_mod}}
\doxysubsubsection{\texorpdfstring{optimise\_parallelism()}{optimise\_parallelism()}}
{\footnotesize\ttfamily def user\+\_\+input\+\_\+mod.\+optimise\+\_\+parallelism (\begin{DoxyParamCaption}\item[{}]{n\+\_\+procs,  }\item[{}]{n\+\_\+gitt\+\_\+steps = {\ttfamily 1},  }\item[{}]{full\+\_\+battery = {\ttfamily False} }\end{DoxyParamCaption})}



Decides the correct number of threads to use for a given simulation. 

\begin{DoxyVerb}@details Given a user supplied number of processors, as well as further details about the simulation
(the number of current steps if it's a GITT test, if the simulation is a full cell or not), this function
decides on the optimum number of threads to use. It never picks a number of threads greater than 4,
as any larger than this and the communication overhead between threads during the matrix solve begins to dominate
and the computation time increases. This function therefore allows a balanced optimum parallelisation strategy.
@param[in] n_procs: The number of processors that the user is happy for the program to exploit. The program will exploit a number
of cores less than or equal to this number. Integer.
@param[in] n_gitt_steps: The number of GITT steps if the experiment being performed is a GITT test. 1 by default (in the case of 
the experiment not being a GITT test) integer.
@param[in] full_battery: Bool, True means that both sides of a battery are being simulated, whilst False means only one side.

The function works by:
1. Deciding what number of threads is best to use given the type of simulation and input parameters, up to a maximum of 4.
   Note that this is based off the principle that parallelisation over independent seperate instances of the solver is always better
   than multithreading.
2. Setting the environment variable.
\end{DoxyVerb}
 

Definition at line 686 of file user\+\_\+input\+\_\+mod.\+py.

\mbox{\Hypertarget{namespaceuser__input__mod_aaaea3c731451ce7bdf4ed0b81a55f182}\label{namespaceuser__input__mod_aaaea3c731451ce7bdf4ed0b81a55f182}} 
\index{user\_input\_mod@{user\_input\_mod}!set\_defaults\_neg@{set\_defaults\_neg}}
\index{set\_defaults\_neg@{set\_defaults\_neg}!user\_input\_mod@{user\_input\_mod}}
\doxysubsubsection{\texorpdfstring{set\_defaults\_neg()}{set\_defaults\_neg()}}
{\footnotesize\ttfamily def user\+\_\+input\+\_\+mod.\+set\+\_\+defaults\+\_\+neg (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}



Returns default parameters for a negative electrode. 

Gives the default parameter values, obtained from \cite{Chen2020}. THe simulation is set up to run for 100 timesteps of size dt = 0.\+1s, with n = 1000 spatial nodes. Applied current density is set up as a constant current density of value 0.\+73mA m$^\wedge$2. 

Definition at line 174 of file user\+\_\+input\+\_\+mod.\+py.

\mbox{\Hypertarget{namespaceuser__input__mod_aebe5c185d4c5b424c433665db6de9bfd}\label{namespaceuser__input__mod_aebe5c185d4c5b424c433665db6de9bfd}} 
\index{user\_input\_mod@{user\_input\_mod}!set\_defaults\_pos@{set\_defaults\_pos}}
\index{set\_defaults\_pos@{set\_defaults\_pos}!user\_input\_mod@{user\_input\_mod}}
\doxysubsubsection{\texorpdfstring{set\_defaults\_pos()}{set\_defaults\_pos()}}
{\footnotesize\ttfamily def user\+\_\+input\+\_\+mod.\+set\+\_\+defaults\+\_\+pos (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}



DEFAULT PARAMETERS \#\#\#. 

Returns default parameters for a positive electrode

Gives the default parameter values, obtained from \cite{Chen2020} The simulation is set up to run for 100 timesteps of size dt = 0.\+1s, with n = 1000 spatial nodes. Applied current density is set up as a constant current density of value 0.\+73mA m$^\wedge$2. 

Definition at line 139 of file user\+\_\+input\+\_\+mod.\+py.

\mbox{\Hypertarget{namespaceuser__input__mod_a0e26d9f41295714f3c40286041e2a3d3}\label{namespaceuser__input__mod_a0e26d9f41295714f3c40286041e2a3d3}} 
\index{user\_input\_mod@{user\_input\_mod}!verify\_iapp@{verify\_iapp}}
\index{verify\_iapp@{verify\_iapp}!user\_input\_mod@{user\_input\_mod}}
\doxysubsubsection{\texorpdfstring{verify\_iapp()}{verify\_iapp()}}
{\footnotesize\ttfamily def user\+\_\+input\+\_\+mod.\+verify\+\_\+iapp (\begin{DoxyParamCaption}\item[{}]{iapp,  }\item[{}]{iapp\+\_\+label,  }\item[{}]{tsteps }\end{DoxyParamCaption})}



Verifies the types and values of the applied current density array and its label. 

\begin{DoxyVerb}@details Verifies that the parameters output iapp and iapp_label have the correct types, valid values, and correct lengths.
If any are found to be invalid, an error is printed and the execution will stop.
@param[in] iapp: Applied current density, 1D array of floats of length tsteps.
@param[in] iapp_label: Labels the type of applied current density, must be a string.
@param[in] tsteps: Number of timesteps, in order to check iapp has the correct length.
\end{DoxyVerb}
 

Definition at line 323 of file user\+\_\+input\+\_\+mod.\+py.

\mbox{\Hypertarget{namespaceuser__input__mod_aa59f87c9644060e0f4593ba2cc2e31ec}\label{namespaceuser__input__mod_aa59f87c9644060e0f4593ba2cc2e31ec}} 
\index{user\_input\_mod@{user\_input\_mod}!verify\_params@{verify\_params}}
\index{verify\_params@{verify\_params}!user\_input\_mod@{user\_input\_mod}}
\doxysubsubsection{\texorpdfstring{verify\_params()}{verify\_params()}}
{\footnotesize\ttfamily def user\+\_\+input\+\_\+mod.\+verify\+\_\+params (\begin{DoxyParamCaption}\item[{}]{filename,  }\item[{}]{tsteps,  }\item[{}]{dt,  }\item[{}]{n,  }\item[{}]{c0,  }\item[{}]{D,  }\item[{}]{R,  }\item[{}]{a,  }\item[{}]{L,  }\item[{}]{electrode\+\_\+charge }\end{DoxyParamCaption})}



PARAMETER VERIFICATION \#\#\#. 

Verifies the types and values of the input parameters. \begin{DoxyVerb}@details Verifies that output filename, tsteps, dt, c0, D, R, a, and L have the correct type and valid values. 
If any are found to be invalid, an error is printed and the execution will stop.

@param[in] filename  The name of the output file, this must be a string and have max 50 characters. No file extension is required.
@param[in] tsteps  Number of timesteps, must be an integer greater than 0.
@param[in] dt  Timestep size, must be a float greater than 0.
@param[in] n  Number of spatial nodes, must be an integer between 100 and 4000.
@param[in] c0  Initial concentration, must be a float greater than or equal to 0.
@param[in] D  Diffusion constant, must be a float.
@param[in] R  Radius of the sphere, must be a float greater than 0.
@param[in] a  Particle surface area per unit volume, must be a float greater than or equal to 0.
@param[in] L  Electrode thickness, must be a float greater than or equal to 0.
@param[in] electrode_charge  Labels charge of the electrode, must b a string, 'p' for positive or 'n' for negative.
\end{DoxyVerb}
 

Definition at line 213 of file user\+\_\+input\+\_\+mod.\+py.

\mbox{\Hypertarget{namespaceuser__input__mod_a3928eb204355d42eaf2cb7132c98be24}\label{namespaceuser__input__mod_a3928eb204355d42eaf2cb7132c98be24}} 
\index{user\_input\_mod@{user\_input\_mod}!write\_to\_file@{write\_to\_file}}
\index{write\_to\_file@{write\_to\_file}!user\_input\_mod@{user\_input\_mod}}
\doxysubsubsection{\texorpdfstring{write\_to\_file()}{write\_to\_file()}}
{\footnotesize\ttfamily def user\+\_\+input\+\_\+mod.\+write\+\_\+to\+\_\+file (\begin{DoxyParamCaption}\item[{}]{filename,  }\item[{}]{tsteps,  }\item[{}]{dt,  }\item[{}]{n,  }\item[{}]{c0,  }\item[{}]{D,  }\item[{}]{R,  }\item[{}]{a,  }\item[{}]{L,  }\item[{}]{iapp,  }\item[{}]{iapp\+\_\+label,  }\item[{}]{electrode\+\_\+charge }\end{DoxyParamCaption})}



WRITE TO FILE \#\#\#. 

Writes user inputs to a txt file. \begin{DoxyVerb}@details Writes the user inputs to a txt file named 'filename'. 
Parameters are output in the format 'parameter = value'.
tsteps, dt, c0, D, R, a, L, electrode_charge are output to the top of the file, followed by an asterix line (***).
iapp_label is output below the asterix line, with iapp array the following it, written one element per line.

The function works by:
1. Setting the file name.
2. Making a list of strings to write to the file.
3. Writing to the file.
\end{DoxyVerb}
 

Definition at line 359 of file user\+\_\+input\+\_\+mod.\+py.

